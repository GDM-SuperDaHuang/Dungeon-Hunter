# 预测
## PredictionKey

### 什么时候需要预测？
1) 普通瞬时伤害 / Timer + Instant GE: ❌ 不需要
2) 异步 GE / Actor 外 GE: ✅ 需要
3) 自定义 RPC 预测: ✅ 需要
4) 高级多目标 / 分 GE: ⚠ 看复杂度，可选

eg ：假设你在做一个 发射炮弹技能：
1) 玩家按下技能键 → 发射一个炮弹（Ability 激活）
2) 炮弹飞行 1 秒后命中目标 → 造成伤害（Apply GE）
3) 炮弹本身是独立 Actor，不在 Ability 的生命周期里
4) 注意：炮弹飞行期间已经超出了原本 AbilityTask 或 ActivateAbility 的上下文

二、为什么需要手动 PredictionKey

在 GAS 里：
    ·PredictionKey 绑定 Ability 激活上下文
    ·客户端预测依赖这个 Key 来标记“这个 GE 是预测的，等 Server 确认”
    ·如果 GE 在 Ability 生命周期之外触发，自动 Key 不存在
否则会出现几个问题：
    ·客户端预测无法知道这个 GE 属于哪个 Activation，客户端不会立刻显示伤害或 Cue
    ·服务器确认 GE 后，客户端无法匹配 Prediction → 可能导致 重复 GE / 回滚失败 / 卡 UI
    ·影响 GameplayCue 的预测播放，客户端可能没有及时播放命中特效
简单理解：PredictionKey 是 GE 的“身份证”，保证客户端预测和 Server 权威同步

### 预测的时候通常，客户端预测表现，服务器预测数值
